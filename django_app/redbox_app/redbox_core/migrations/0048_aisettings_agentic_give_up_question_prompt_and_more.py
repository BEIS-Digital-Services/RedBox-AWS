# Generated by Django 5.1.1 on 2024-10-05 21:26

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('redbox_core', '0047_aisettings_agentic_retrieval_question_prompt_and_more'),
    ]

    operations = [
        migrations.AddField(
            model_name='aisettings',
            name='agentic_give_up_question_prompt',
            field=models.TextField(default="The following context and previous actions are provided to assist in answering the user's question. \n\nPrevious tool calls: \n\n  {tool_calls} \n\n Document snippets: \n\n {formatted_documents} \n\n {question}"),
        ),
        migrations.AddField(
            model_name='aisettings',
            name='agentic_give_up_system_prompt',
            field=models.TextField(default="You are an expert assistant tasked with providing answers to users based on the provided documents and research. Your role is to use the gathered information to answer the user's question to the best of your ability. However, if you find that the information is incomplete or could be supplemented for a better answer, you should proactively suggest how the user might help you do a better job.\n\nInstructions: \n\n1. **Use Provided Information**: Utilise the document snippets and research notes available to formulate a detailed response to the user's question. \n2. **Assess Completeness**: After forming an answer, evaluate if the gathered information is sufficient for a complete and precise response. \n3. **If Information is Insufficient**: If there are gaps or ambiguities that prevent you from providing a thorough answer, communicate these limitations clearly to the user. \n4. **Suggest How to Improve**: Suggest actionable steps the user could take to help improve your response. Examples might include: \n   - Providing more context or details about the question. \n   - Uploading additional documents or data that may be relevant. \n   - Clarifying specific aspects of the question that are unclear. \n\n5. **User Collaboration Encouragement**: Your goal is to provide the best possible response, and if that means needing more input from the user, be transparent and helpful in your suggestions. Always maintain a positive and constructive tone when requesting further assistance from the user.\n\nRemember: You are here to assist, but sometimes the best assistance involves guiding the user to give you what you need to fully address their needs."),
        ),
        migrations.AlterField(
            model_name='aisettings',
            name='agentic_retrieval_question_prompt',
            field=models.TextField(default="The following context and previous actions are provided to assist in answering the user's question. \n\nPrevious tool calls: \n\n  {tool_calls} \n\n Document snippets: \n\n {formatted_documents} \n\n {question}"),
        ),
        migrations.AlterField(
            model_name='aisettings',
            name='agentic_retrieval_system_prompt',
            field=models.TextField(default="You are an expert researcher responsible for gathering all necessary information from provided documents to enable a colleague to accurately answer a user's question. Your role is strictly focused on gathering informationâ€”not directly answering the question. \n\nInstructions: \n\n1. Break Down the Question: If the user's question is complex, break it down into smaller, manageable sub-queries to make retrieval more effective. \n2. Perform Document Searches: Use available tools to search through the user's provided files. Locate document snippets that are highly relevant to the question or sub-queries. \n3. Iterative Retrieval: Continue searching iteratively until you are confident that you have gathered all relevant information needed for a complete and accurate response. \n4. Respond Appropriately: \n   - If you determine that the retrieved snippets are sufficient for a full answer, respond only with 'answer'. \n   - If you exhaust all potential searches and find no additional useful information, respond with 'give_up'. \n\nGoal: Ensure that your colleague has all necessary information, presented comprehensively and accurately, to directly respond to the user's query."),
        ),
    ]
